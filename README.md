# Phraze API

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```tree
# APIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
app/
â”œâ”€â”€ domain/
â”‚   â””â”€â”€ domain.go
â”œâ”€â”€ application/
â”‚   â””â”€â”€ usecase/
â”‚       â”œâ”€â”€ auth.go
â”‚       â””â”€â”€ deck.go
â”œâ”€â”€ infra/
â”‚   â””â”€â”€ db/
â”‚       â”œâ”€â”€ client.go
â”‚       â””â”€â”€ get_user.go
â”œâ”€â”€ router/
â”‚   â”œâ”€â”€ graph/
â”‚   â”‚   â””â”€â”€ resolver/
â”‚   â””â”€â”€ schema/
â””â”€â”€ util/
    â””â”€â”€ logger/
        â””â”€â”€ logger.go


# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†
atlas/
â””â”€â”€ schema.sql

# ã‚·ãƒ¼ãƒ‰ç®¡ç†
seeds/
â””â”€â”€ dev/
    â””â”€â”€ 20240628144146_users.sql
```

ãªã‚“ã¡ã‚ƒã£ã¦ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ„è­˜

å±¤ãŒåšããªã‚Šé–‹ç™ºã‚¹ãƒ”ãƒ¼ãƒ‰ãŒè½ã¡ãªã„ã‚ˆã†ã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã€ãƒ¬ãƒã‚¸ãƒˆãƒªå±¤ã‚’çœç•¥ã€‚
ãŸã ã—ã€DI ã‚„é–¢å¿ƒã®åˆ†é›¢ã¯æ„è­˜ã—ã¦ä½œæˆã—ã¦ã„ã‚‹ã€‚

ä»–ã®å±¤ã¨ä¾å­˜ã™ã‚‹å ´åˆã¯ã€interface ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã€‚

router â† usecase â† infra

## ğŸ”§ Development

### ç’°å¢ƒå¤‰æ•°

`.env` ã§ç®¡ç†

### Google ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«æƒ…å ±

ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«æƒ…å ±ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚  
ç®¡ç†è€…ã«å•ã„åˆã‚ã›ã¦ãã ã•ã„ã€‚

### é–‹ç™ºç’°å¢ƒã®èµ·å‹•

```bash
make up
```

- [ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚·ãƒ¼ãƒ‰ç®¡ç†ã«ã¤ã„ã¦](./atlas/)
- [GraphQL ã®ç®¡ç†ã«ã¤ã„ã¦](./app/infra/graph/)

## Test

### ç’°å¢ƒå¤‰æ•°

`.env.test` ã§ç®¡ç†

### ç’°å¢ƒè¨­å®š

#### VSCode ã® Run Test ã«ç’°å¢ƒè¨­å®šã‚’èª­ã¿è¾¼ã¾ã›ã‚‹

settings.json ã«ä»¥ä¸‹ã‚’è¿½åŠ ã™ã‚‹

```json
  "go.testEnvVars": {
    "TZ": "UTC"
  },
  "go.testEnvFile": "${workspaceFolder}/.env.test"
```
